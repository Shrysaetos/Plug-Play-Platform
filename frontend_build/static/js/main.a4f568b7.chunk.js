(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,a){e.exports=a(162)},132:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),c=(a(132),a(9)),l=a(37),s=a(13),u=function(e,t,a,n){sessionStorage.setItem("token",e),sessionStorage.setItem("userID",t),sessionStorage.setItem("name",JSON.stringify(a)),sessionStorage.setItem("email",JSON.stringify(n))},m=a(16),p=a.n(m),d=a(29),g=a(228),f=a(207),b=a(205),h=a(206),E=a(224),x=a(203),v=a(208),y=a(221),O=a(64),j=a.n(O),w=a(50),S=a(200),C=a(204),k=a(226),T=a(223);function I(e){return r.a.createElement(T.a,Object.assign({elevation:6,variant:"filled"},e))}var N=Object(S.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),D=function(e){var t=N(),a=r.a.useState(!1),o=Object(c.a)(a,2),i=(o[0],o[1]),l=Object(n.useState)(""),s=Object(c.a)(l,2),u=s[0],m=s[1],p=function(e,t){"clickaway"!==t&&i(!1)};return Object(n.useEffect)((function(){!function(){switch(e.type){case"success":m("success");break;case"warning":m("warning");break;case"info":m("info");break;case"error":m("error");break;default:m("")}}()}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(k.a,{open:e.showToast,autoHideDuration:6e3,onClose:p},r.a.createElement(I,{onClose:p,severity:u},e.message)))},W=a(7),F=a(68),B=a.n(F),P=a(201),H=a(227),A=a(202),R=a(102),z=a.n(R),L=a(103),V=a.n(L),J=a(17),M=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase())[0]+e[1],o=e[2]+e[3],i=e[4]+e[5];return parseInt(r,16)+", "+parseInt(o,16)+", "+parseInt(i,16)},Y={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},q=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],U=["#ff9800","#ffa726","#fb8c00","#ffa21a"],G=["#f44336","#ef5350","#e53935","#f55a4e"],$=["#4caf50","#66bb6a","#43a047","#5cb860"],X=["#00acc1","#26c6da","#00acc1","#00d3ee"],K=["#e91e63","#ec407a","#d81b60","#eb3573"],Q=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],Z=(M("#000"),M("#000"),M("#000"),{boxShadow:"0 4px 20px 0 rgba("+M("#000")+",.14), 0 7px 10px -5px rgba("+M(q[0])+",.4)"}),_={boxShadow:"0 4px 20px 0 rgba("+M("#000")+",.14), 0 7px 10px -5px rgba("+M(X[0])+",.4)"},ee={boxShadow:"0 4px 20px 0 rgba("+M("#000")+",.14), 0 7px 10px -5px rgba("+M($[0])+",.4)"},te={boxShadow:"0 4px 20px 0 rgba("+M("#000")+",.14), 0 7px 10px -5px rgba("+M(U[0])+",.4)"},ae={boxShadow:"0 4px 20px 0 rgba("+M("#000")+",.14), 0 7px 10px -5px rgba("+M(G[0])+",.4)"},ne={boxShadow:"0 4px 20px 0 rgba("+M("#000")+",.14), 0 7px 10px -5px rgba("+M(K[0])+",.4)"},re=(Object(J.a)({background:"linear-gradient(60deg, "+U[1]+", "+U[2]+")"},te),Object(J.a)({background:"linear-gradient(60deg, "+$[1]+", "+$[2]+")"},ee),Object(J.a)({background:"linear-gradient(60deg, "+G[1]+", "+G[2]+")"},ae),Object(J.a)({background:"linear-gradient(60deg, "+X[1]+", "+X[2]+")"},_),Object(J.a)({background:"linear-gradient(60deg, "+q[1]+", "+q[2]+")"},Z),Object(J.a)({background:"linear-gradient(60deg, "+K[1]+", "+K[2]+")"},ne),Object(J.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+Q[10],height:"auto"},Y),M("#000"),M("#000"),M("#000"),M("#000"),M("#000"),{color:Q[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:Q[1],fontWeight:"400",lineHeight:"1"}}),oe=(Object(J.a)(Object(J.a)({},re),{},{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(J.a)(Object(J.a)({},re),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:Q[4]+" !important",borderWidth:"1px !important"},"&:after":{borderColor:q[0]}},underlineError:{"&:after":{borderColor:G[0]}},underlineSuccess:{"&:after":{borderColor:$[0]}},labelRoot:Object(J.a)(Object(J.a)({},Y),{},{color:Q[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",letterSpacing:"unset"}),labelRootError:{color:G[0]},labelRootSuccess:{color:$[0]},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"}}),ie=Object(S.a)(oe);function ce(e){var t,a,n=ie(),o=e.formControlProps,i=e.labelText,c=e.id,l=e.labelProps,s=e.inputProps,u=e.error,m=e.success,p=B()((t={},Object(W.a)(t," "+n.labelRootError,u),Object(W.a)(t," "+n.labelRootSuccess,m&&!u),t)),d=B()((a={},Object(W.a)(a,n.underlineError,u),Object(W.a)(a,n.underlineSuccess,m&&!u),Object(W.a)(a,n.underline,!0),a)),g=B()(Object(W.a)({},n.marginTop,void 0===i));return r.a.createElement(P.a,Object.assign({},o,{className:o.className+" "+n.formControl}),void 0!==i?r.a.createElement(H.a,Object.assign({className:n.labelRoot+p,htmlFor:c},l),i):null,r.a.createElement(A.a,Object.assign({classes:{root:g,disabled:n.disabled,underline:d},id:c},s)),u?r.a.createElement(z.a,{className:n.feedback+" "+n.labelRootError}):m?r.a.createElement(V.a,{className:n.feedback+" "+n.labelRootSuccess}):null)}var le=a(58);function se(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"#"},"Plug&PlayIoT")," ",(new Date).getFullYear(),".")}var ue=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none"},container:{alignContent:"center"},text:{alignText:"center"}}})),me=Object(s.h)((function(e){var t=ue(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),m=Object(c.a)(s,2),O=m[0],S=m[1],k=Object(n.useState)(""),T=Object(c.a)(k,2),I=T[0],N=(T[1],Object(n.useState)("")),W=Object(c.a)(N,2),F=W[0],B=(W[1],Object(n.useState)(!1)),P=Object(c.a)(B,2),H=P[0],A=(P[1],function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,le.post("/api/users/login",{email:i,password:O}).then((function(t){u(t.data.token,t.data.id,t.data.name,t.data.email),e.login(),e.history.push("/")})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(j.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Log In"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(ce,{labelText:"Email",id:"email",formControlProps:{fullWidth:!0},inputProps:{onChange:function(e){l(e.target.value)}}}),r.a.createElement(ce,{labelText:"Password",id:"password",inputProps:{type:"password",onChange:function(e){S(e.target.value)}},formControlProps:{fullWidth:!0}}),r.a.createElement(h.a,{control:r.a.createElement(E.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:A},"Log In"),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0},r.a.createElement(x.a,{onClick:function(){e.history.push("/signup")},variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(D,{type:I,message:F,showToast:H}),r.a.createElement(y.a,{mt:8},r.a.createElement(se,null)))})),pe=a(229),de=a(58);function ge(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"https://material-ui.com/"},"Plug&PlayIoT")," ",(new Date).getFullYear(),".")}var fe=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),be=Object(s.h)((function(e){var t=fe(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),m=u[0],h=u[1],E=Object(n.useState)(""),O=Object(c.a)(E,2),S=O[0],k=O[1],T=Object(n.useState)(""),I=Object(c.a)(T,2),N=I[0],D=I[1],W=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,de.post("/api/users/create",{name:i+" "+m,email:S,password:N}).then((function(t){console.log(t),e.history.push("/signin")})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(j.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(pe.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onInput:function(e){l(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(pe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onInput:function(e){h(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(pe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onInput:function(e){k(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onInput:function(e){D(e.target.value)}}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:W},"Sign Up"),r.a.createElement(v.a,{container:!0,justify:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(x.a,{onClick:function(){e.history.push("/signin")},variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(y.a,{mt:5},r.a.createElement(ge,null)))})),he=a(3);function Ee(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"#"},"Plug&PlayIoT")," ",(new Date).getFullYear(),".")}var xe=Object(s.h)((function(e){return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement("div",null),r.a.createElement(C.a,{maxWidth:"lg"},r.a.createElement("h2",null,"Welcome ",e.user),r.a.createElement(y.a,{pt:4},r.a.createElement(Ee,null)))))})),ve=a(225),ye=a(212),Oe=a(213),je=a(211),we=a(215),Se=a(199),Ce=a(81),ke=a.n(Ce),Te=a(105),Ie=a.n(Te),Ne=a(82),De=a.n(Ne),We=a(104),Fe=a.n(We),Be=a(83),Pe=a.n(Be),He=a(165),Ae=a(216),Re=a(214),ze=a(210),Le=Object(S.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(J.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{textAlign:"center",paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Ve=Object(s.h)((function(e){var t=Le(),a=Object(n.useState)(!1),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(null),u=Object(c.a)(s,2),m=u[0],p=u[1],d=(Object(he.a)(t.paper,t.fixedHeight),Boolean(m)),g=i?"simple-popover":void 0;return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,null),r.a.createElement(ye.a,{position:"absolute",className:Object(he.a)(t.appBar,i&&t.appBarShift)},r.a.createElement(Oe.a,{className:t.toolbar},r.a.createElement(Se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(he.a)(t.menuButton,i&&t.menuButtonHidden)},r.a.createElement(ke.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Dashboard"),r.a.createElement(Se.a,{"aria-describedby":g,variant:"contained",onClick:function(e){p(e.currentTarget)}},r.a.createElement(Fe.a,null)),r.a.createElement(ze.a,{id:g,open:d,anchorEl:m,onClose:function(){p(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(je.a,{component:"nav","aria-label":"secondary mailbox folders"},r.a.createElement(He.a,{button:!0,onClick:e.logout},r.a.createElement(Re.a,{primary:"Logout"})))))),r.a.createElement(ve.a,{variant:"permanent",classes:{paper:Object(he.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(Se.a,{onClick:function(){l(!1)}},r.a.createElement(De.a,null))),r.a.createElement(we.a,null),r.a.createElement(je.a,null,r.a.createElement(He.a,{button:!0,onClick:function(){e.history.push("/")}},r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,null)),r.a.createElement(Re.a,{primary:"Home Page"})),r.a.createElement(He.a,{button:!0,onClick:function(){e.history.push("/"+e.userId+"/devices")}},r.a.createElement(Ae.a,null,r.a.createElement(Pe.a,null)),r.a.createElement(Re.a,{primary:"My Devices"})))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(C.a,{maxWidth:"lg",className:t.container},e.component)))})),Je=a(106),Me=(a(157),a(2)),Ye=Object(S.a)({grid:{margin:"0 -15px !important",width:"unset"}});function qe(e){var t=Ye(),a=e.children,n=Object(Me.a)(e,["children"]);return r.a.createElement(v.a,Object.assign({container:!0},n,{className:t.grid}),a)}var Ue=Object(S.a)({grid:{padding:"0 15px !important"}});function Ge(e){var t=Ue(),a=e.children,n=Object(Me.a)(e,["children"]);return r.a.createElement(v.a,Object.assign({item:!0},n,{className:t.grid}),a)}var $e=a(217),Xe=a(222),Ke={successText:{color:$[0]},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:Q[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:Q[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+M("#FFF")+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:Q[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:Q[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:"#FFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:Q[1],fontWeight:"400",lineHeight:"1"}}},Qe=(a(159),a(58)),Ze=Object(S.a)(Ke);function _e(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"#"},"Plug&PlayIoT")," ",(new Date).getFullYear(),".")}var et=function(e){var t=Ze(),a=(r.a.useMemo((function(){return{type:"area"}}),[]),r.a.useMemo((function(){return[{primary:!0,position:"bottom",type:"time"},{position:"left",type:"linear",stacked:!0}]}),[])),o=Object(n.useState)(),i=Object(c.a)(o,2),l=i[0],u=i[1],m=Object(s.g)().id,g=Object(n.useState)(!0),f=Object(c.a)(g,2),b=(f[0],f[1],Object(n.useState)("")),h=Object(c.a)(b,2),E=(h[0],h[1],function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.get("/api/devices/all/"+m).then((function(e){var t=[];e.data.rows.forEach((function(e){t.push({x:new Date(e.readingsTime),y:e.value})}));try{u([{label:"Sensor Values",datums:t}])}catch(a){console.log(a)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),x=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.get("/api/devices/today/"+m).then((function(e){var t=[];e.data.rows.forEach((function(e){t.push({x:new Date(e.readingsTime),y:e.value})}));try{u([{label:"Sensor Values",datums:t}])}catch(a){console.log(a)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.get("/api/devices/last7days/"+m).then((function(e){var t=[];e.data.rows.forEach((function(e){t.push({x:new Date(e.readingsTime),y:e.value})}));try{u([{label:"Sensor Values",datums:t}])}catch(a){console.log(a)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.get("/api/devices/last30days/"+m).then((function(e){var t=[];e.data.rows.forEach((function(e){t.push({x:new Date(e.readingsTime),y:e.value})}));try{u([{label:"Sensor Values",datums:t}])}catch(a){console.log(a)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),r.a.createElement("div",null,r.a.createElement(qe,null,r.a.createElement(Ge,{xs:12,sm:12,md:4},r.a.createElement(P.a,{className:t.formControl},r.a.createElement(H.a,{id:"demo-simple-select-label"},"Time"),r.a.createElement(Xe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:function(e){switch(e.target.value){case 1:x();break;case 7:v();break;case 30:y();break;default:x()}},className:"select",defaultValue:0},r.a.createElement($e.a,{value:0},"All"),r.a.createElement($e.a,{value:1},"This day"),r.a.createElement($e.a,{value:7},"Last 7 days"),r.a.createElement($e.a,{value:30},"Last 30 days"))),r.a.createElement("div",{style:window.innerWidth>768?{width:"500px",height:"500px"}:{width:"300px",height:"300px"}},l&&l[0].datums&&r.a.createElement(Je.Chart,{data:l,axes:a,className:"chart"})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_e,null))},tt=(a(160),a(218)),at=a(219),nt=a(220),rt=(a(161),a(58));function ot(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"#"},"Plug&PlayIoT")," ",(new Date).getFullYear(),".")}var it=Object(s.h)((function(e){var t=Object(s.g)().id,a=Object(n.useState)([]),o=Object(c.a)(a,2),i=o[0],l=o[1],u=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.get("/api/devices/owner/"+t).then((function(e){l(e.data.rows)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),r.a.createElement("div",{id:"container",className:"container"},i.map((function(t){return r.a.createElement(r.a.Fragment,{key:t.deviceID},r.a.createElement(tt.a,{onClick:function(){e.history.push("/device/"+t.deviceID)}},r.a.createElement(at.a,null,r.a.createElement(nt.a,null,r.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.type),r.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"Location: ",t.location),r.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"Last Registed Value: ",t.lastValue)))),r.a.createElement("br",null))})),r.a.createElement(ot,null))}));var ct=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],i=function(){var e=sessionStorage.getItem("name");return e?JSON.parse(e):null}(),u=function(){var e=sessionStorage.getItem("userID");return e||null}(),m={signin:function(e){o(!0)},signout:function(e){o(!1),sessionStorage.removeItem("token"),sessionStorage.removeItem("user")}};Object(n.useEffect)((function(){sessionStorage.getItem("token")?m.signin():m.signout()}));var p=function(){return r.a.createElement(me,{login:m.signin})};return r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/signin",exact:!0},p),r.a.createElement(s.b,{path:"/signup",exact:!0},r.a.createElement(be,null)),r.a.createElement(s.b,{path:"/",exact:!0},a?r.a.createElement(Ve,{logout:m.signout,userId:u,component:r.a.createElement(xe,{user:i})}):p),r.a.createElement(s.b,{path:"/:id/devices",exact:!0},a?r.a.createElement(Ve,{logout:m.signout,userId:u,component:r.a.createElement(it,{title:"My Devices"})}):p),r.a.createElement(s.b,{path:"/device/:id",exact:!0},a?r.a.createElement(Ve,{logout:m.signout,userId:u,component:r.a.createElement(et,{title:"Device Info"})}):p),r.a.createElement(s.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[127,1,2]]]);
//# sourceMappingURL=main.a4f568b7.chunk.js.map